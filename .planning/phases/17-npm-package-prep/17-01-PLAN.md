---
phase: 17-npm-package-prep
plan: 01
type: execute
---

<objective>
Prepare package.json and publishing config for npm release.

Purpose: Ensure clean npm publish with correct files, version, and metadata.
Output: Updated package.json, .npmignore, and successful npm pack dry-run
</objective>

<execution_context>
@~/.claude/get-your-work-done/workflows/execute-phase.md
@~/.claude/get-your-work-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md

**Current state:**
- package.json version: 3.2.0 (needs 3.3.0)
- files array: bin, commands, get-your-work-done, lib
- No .npmignore (uses .gitignore + files array)
- prepublishOnly script exists

**Goal:**
- Bump version to 3.3.0
- Create .npmignore for explicit control
- Verify npm pack output is clean
- Update CHANGELOG.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Bump version to 3.3.0</name>
  <files>package.json</files>
  <action>
Update version field from 3.2.0 to 3.3.0
  </action>
  <verify>package.json shows version 3.3.0</verify>
  <done>Version bumped</done>
</task>

<task type="auto">
  <name>Task 2: Create .npmignore</name>
  <files>.npmignore</files>
  <action>
Create .npmignore with explicit exclusions:
- .planning/
- .github/
- .claude-plugin/
- tests/
- scripts/
- coverage/
- docs/ (docs will be on GitHub, not npm)
- assets/
- *.md (except README.md, LICENSE)
- .eslintrc.js
- jest.config.js
- junit.xml
  </action>
  <verify>.npmignore exists with proper exclusions</verify>
  <done>.npmignore created</done>
</task>

<task type="auto">
  <name>Task 3: Add docs to files array</name>
  <files>package.json</files>
  <action>
Add "docs" to files array so documentation is included in npm package.
Users should have access to GETTING-STARTED.md, COMMANDS.md, etc.
  </action>
  <verify>files array includes docs</verify>
  <done>docs added to files</done>
</task>

<task type="auto">
  <name>Task 4: Run npm pack dry-run</name>
  <files>none</files>
  <action>
Run `npm pack --dry-run` to verify:
- Only intended files are included
- Package size is reasonable
- No sensitive files leaked
  </action>
  <verify>Output shows clean file list</verify>
  <done>Pack verified</done>
</task>

<task type="auto">
  <name>Task 5: Update CHANGELOG.md for v3.3.0</name>
  <files>CHANGELOG.md</files>
  <action>
Add v3.3.0 section with:
- Documentation improvements (README, GETTING-STARTED, COMMANDS, EXAMPLES, CONTRIBUTING)
- Test coverage tracking
- npm publishing preparation
  </action>
  <verify>CHANGELOG has v3.3.0 entry</verify>
  <done>CHANGELOG updated</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Version is 3.3.0
- [ ] .npmignore exists and excludes dev files
- [ ] npm pack shows only intended files
- [ ] CHANGELOG.md updated
</verification>

<success_criteria>
- All 5 tasks completed
- npm pack dry-run shows clean output
- Ready for npm publish
</success_criteria>

<output>
After completion, create `.planning/phases/17-npm-package-prep/17-01-SUMMARY.md`
</output>

## Confidence Summary

**Overall: 92%** (High)

| Task | Confidence | Notes |
|------|------------|-------|
| T1 | 98% | Simple version bump |
| T2 | 90% | Standard .npmignore patterns |
| T3 | 95% | Simple array addition |
| T4 | 85% | Depends on npm behavior |
| T5 | 95% | Documentation task |

No low-confidence items.
